# ============================
# Makefile pour le Serveur TCP
# ============================

# ğŸ¯ Variables
CC = gcc
CFLAGS = -Wall -Wextra -std=c11 -I.
TARGET = serveur
SRC = main.c
OBJ = $(SRC:.c=.o)

# ğŸ› ï¸ RÃ¨gle par dÃ©faut
all: $(TARGET)

# ğŸ¯ Compilation du programme principal
$(TARGET): $(OBJ)
	@echo "ğŸ”§ Compilation du serveur..."
	$(CC) $(CFLAGS) -o $(TARGET) $(OBJ)
	@echo "âœ… Compilation terminÃ©e."

# ğŸ¯ Compilation des fichiers sources en objets
%.o: %.c
	@echo "ğŸ”¨ Compilation de $<..."
	$(CC) $(CFLAGS) -c $< -o $@

# ğŸ§¹ Nettoyage des fichiers objets et exÃ©cutables
clean:
	@echo "ğŸ§¹ Nettoyage des fichiers objets..."
	rm -f $(OBJ)
	@echo "ğŸ§¹ Nettoyage terminÃ©."

fclean: clean
	@echo "ğŸ§¹ Suppression de l'exÃ©cutable..."
	rm -f $(TARGET)
	@echo "ğŸ§¹ Suppression terminÃ©e."

# ğŸ”„ Recompilation complÃ¨te
re: fclean all

# ğŸ“ Aide
help:
	@echo "ğŸ“ Commandes disponibles:"
	@
